name: ğŸ” Pre-Release Checks

on:
  push:
    branches:
      - develop_v1
  pull_request:
    branches:
      - develop_v1

jobs:
  check-naming-conventions:
    name: ğŸ”¤ Validate lowercase filenames and folders
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout Code
        uses: actions/checkout@v3

    - name: ğŸš« Check for capitalized folders or files
      run: |        
        echo "Running file/folder naming validation..."

        # Get all tracked files with capital letters (excluding README.md)
        capital_files=$(git ls-files | grep -E '/[A-Z]' | grep -v 'README.md' || true)
        capital_root_files=$(git ls-files | grep -E '^[A-Z]' | grep -v '^README.md$' || true)
        
        if [ ! -z "$capital_files" ] || [ ! -z "$capital_root_files" ]; then
          echo "âŒ ERROR: The following files or folders start with a capital letter (excluding README.md):"
          echo "$capital_files"
          echo "$capital_root_files"
          echo "Please rename them to follow lowercase naming conventions."
          exit 1
        fi

    - name: âœ… Success
      run: echo "All pre-release checks passed!"

